<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speech to Text</title>
</head>
<body>
  <h1>Speech to Text with Video Capture</h1>
  
  <!-- Video Capture Box -->
  <video id="videoElement" width="640" height="480" autoplay></video>
  
  <!-- Text Output Box -->
  <div>
    <h2>Speech Recognition Output:</h2>
    <p id="outputText"></p>
  </div>
  
  <!-- Audio Output Box -->
  <div>
    <h2>Audio Output:</h2>
    <audio id="audioElement" controls></audio>
  </div>
  
  <!-- Script for Speech Recognition -->
  <script>
    const videoElement = document.getElementById('videoElement');
    const outputText = document.getElementById('outputText');
    const audioElement = document.getElementById('audioElement');
    
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function (stream) {
          videoElement.srcObject = stream;
        })
        .catch(function (error) {
          console.error('Error accessing the camera:', error);
        });
    }
    
    const recognition = new webkitSpeechRecognition() || new SpeechRecognition();
    recognition.lang = 'en-US';
    recognition.continuous = true;
    recognition.interimResults = true;
    
    recognition.onresult = function (event) {
      const transcript = Array.from(event.results)
        .map(result => result[0].transcript)
        .join('');
      outputText.textContent = transcript;
    };
    
    recognition.onerror = function (event) {
      console.error('Speech recognition error:', event.error);
    };
    
    recognition.onend = function () {
      console.log('Speech recognition ended.');
    };
    
    recognition.start();
    
    // Audio Element Source
    const audioSource = 'https://www.example.com/audio/sample.mp3';
    audioElement.src = audioSource;
  </script>
</body>
</html>
